<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Salvatore Caporale — Digital Card</title>
  <meta name="description" content="Business card — IT/EN">
  <meta name="theme-color" content="#0a4dad">
  <style>
    :root { --bg:#f6f8ff; --card:#fff; --text:#1f2937; --muted:#4b5563; --primary:#0a4dad; --primary2:#1e6bfd; --accent:#e6f0ff; --shadow:0 10px 30px rgba(0,0,0,.12); --radius:18px; }
    @media (prefers-color-scheme: dark) {
      :root { --bg:#0f1115; --card:#151922; --text:#e5e7eb; --muted:#b4bdc6; --primary:#3b82f6; --primary2:#60a5fa; --accent:#1c2433; --shadow:0 10px 30px rgba(0,0,0,.5); }
    }
    body{margin:0;font-family:system-ui,-apple-system,Roboto,sans-serif;background:linear-gradient(135deg,var(--bg),#ffffff0d);color:var(--text)}
    .container{max-width:900px;margin:0 auto;padding:28px 18px}
    .topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
    .lang{display:flex;gap:8px}
    .lang button{background:var(--card);color:var(--text);border:1px solid #00000022;padding:8px 10px;border-radius:10px;cursor:pointer}
    .lang button.active{background:var(--primary);color:#fff;border-color:transparent}
    .logo{display:block;margin:0 auto 20px;max-height:70px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:28px;margin-bottom:24px}
    .top{display:grid;grid-template-columns:120px 1fr;gap:18px;align-items:center}
    .avatar{width:120px;height:120px;border-radius:999px;object-fit:cover;background:var(--accent);box-shadow:0 6px 16px #00000022}
    h1{font-size:28px;margin:0 0 6px}
    .role{margin:0 0 12px;color:var(--muted)}
    .actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;margin-top:22px}
    .btn{display:flex;align-items:center;justify-content:center;padding:12px 14px;border-radius:12px;text-decoration:none;color:#fff;background:var(--primary);font-weight:600;transition:transform .06s, background .2s}
    .btn:hover{background:var(--primary2);transform:translateY(-1px)}
    .btn.gray{background:#374151}
    .btn.green{background:#0b7a6b}
    h2{margin-top:0;color:var(--primary)}
    p{line-height:1.5}
    .chips{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    .chip{background:var(--accent);padding:6px 12px;border-radius:999px;font-size:14px}
    .list{list-style:none;padding:0;margin:0}
    .list li{padding:6px 0;border-bottom:1px dashed #00000014}
    .list li:last-child{border-bottom:none}
    .qr-box{display:flex;flex-direction:column;align-items:center;gap:10px}
    .qr{width:200px;height:200px;border-radius:12px}
    footer{text-align:center;color:var(--muted);font-size:13px;margin:22px 0 10px}
    [data-lang]{display:none}
    [data-lang].show{display:block}
    .contacts-visible{margin-top:15px;font-size:14px;color:var(--text)}
    .contacts-visible div{margin-bottom:6px}
    .contacts-visible a{color:var(--primary);text-decoration:none}
  </style>
</head>
<body>
  <div class="container">
    <div class="topbar">
      <div></div>
      <div class="lang">
        <button id="btn-it" class="active" aria-label="Italiano">IT</button>
        <button id="btn-en" aria-label="English">EN</button>
      </div>
    </div>

    <img class="logo" src="/logo.png" alt="Logo" onerror="this.style.display='none'">

    <div class="card">
      <div class="top">
        <img class="avatar" src="/foto.jpg" alt="Foto profilo / Profile photo" onerror="this.style.opacity=0.2;">
        <div>
          <h1>Salvatore Caporale</h1>
          <p class="role" data-lang="it">Head of Middle East Operations Services — Leonardo Helicopters</p>
          <p class="role" data-lang="en">Head of Middle East Operations Services — Leonardo Helicopters</p>
          <div class="actions">
            <a class="btn" href="tel:+97450553691" data-lang="it">📞 Chiama Qatar</a>
            <a class="btn" href="tel:+97450553691" data-lang="en">📞 Call Qatar</a>
            <a class="btn" href="tel:+393454770625" data-lang="it">📞 Chiama Italia</a>
            <a class="btn" href="tel:+393454770625" data-lang="en">📞 Call Italy</a>

            <a class="btn gray" href="mailto:salvatore.caporale@leonardo.com" data-lang="it">✉️ Email Aziendale</a>
            <a class="btn gray" href="mailto:salvatore.caporale@leonardo.com" data-lang="en">✉️ Business Email</a>

            <a class="btn gray" href="mailto:s.caporale@yahoo.it" data-lang="it">✉️ Email Personale</a>
            <a class="btn gray" href="mailto:s.caporale@yahoo.it" data-lang="en">✉️ Personal Email</a>

            <a class="btn green" href="https://wa.me/97450553691" target="_blank" data-lang="it">💬 WhatsApp</a>
            <a class="btn green" href="https://wa.me/97450553691" target="_blank" data-lang="en">💬 WhatsApp</a>

            <a class="btn" href="/Salvatore.vcf" download data-lang="it">📇 Aggiungi ai Contatti</a>
            <a class="btn" href="/Salvatore.vcf" download data-lang="en">📇 Add to Contacts</a>

            <button class="btn gray" type="button" id="btn-share" data-lang="it">🔗 Condividi</button>
            <button class="btn gray" type="button" id="btn-share-en" data-lang="en">🔗 Share</button>

            <a class="btn gray" href="https://www.linkedin.com/in/salvatore-caporale/" target="_blank" data-lang="it">in LinkedIn</a>
            <a class="btn gray" href="https://www.linkedin.com/in/salvatore-caporale/" target="_blank" data-lang="en">in LinkedIn</a>
          </div>
          <div class="contacts-visible">
            <div>📞 Qatar: <a href="tel:+97450553691">+974 50553691</a></div>
            <div>📞 Italia: <a href="tel:+393454770625">+39 3454770625</a></div>
            <div>📧 <a href="mailto:salvatore.caporale@leonardo.com">salvatore.caporale@leonardo.com</a></div>
            <div>📧 <a href="mailto:s.caporale@yahoo.it">s.caporale@yahoo.it</a></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Rest of the sections identical to previous version... -->
    <footer>© Salvatore Caporale</footer>
  </div>

  <script>
    const itBtn = document.getElementById('btn-it');
    const enBtn = document.getElementById('btn-en');
    function setLang(lang){
      document.querySelectorAll('[data-lang]').forEach(el=>{
        el.classList.remove('show');
        if(el.getAttribute('data-lang')===lang){ el.classList.add('show'); }
      });
      if(lang==='it'){ itBtn.classList.add('active'); enBtn.classList.remove('active'); document.documentElement.lang='it'; }
      else{ enBtn.classList.add('active'); itBtn.classList.remove('active'); document.documentElement.lang='en'; }
      try{ localStorage.setItem('lang', lang); }catch(e){}
    }
    itBtn.addEventListener('click', ()=>setLang('it'));
    enBtn.addEventListener('click', ()=>setLang('en'));
    const saved = (typeof localStorage!=='undefined' && localStorage.getItem('lang')) || '';
    const preferred = saved || ((navigator.language||'it').toLowerCase().startsWith('en') ? 'en' : 'it');
    setLang(preferred);

    async function share(lang){
      const shareData = { title:'Salvatore Caporale — Digital Card', text: lang==='it'?'I miei contatti':'My contacts', url:'https://salvatore-caporale.github.io' };
      if(navigator.share){ try{ await navigator.share(shareData);}catch(e){} }
      else{ try{ await navigator.clipboard.writeText(shareData.url); alert(lang==='it'?'Link copiato negli appunti':'Link copied'); }catch(e){ prompt(lang==='it'?'Copia questo link:':'Copy this link:', shareData.url);} }
    }
    document.getElementById('btn-share').addEventListener('click', ()=>share('it'));
    document.getElementById('btn-share-en').addEventListener('click', ()=>share('en'));
  </script>
</body>
</html>
